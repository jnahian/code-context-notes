# Changelog - Tags and Categories Feature

## [0.4.0] - 2025-01-XX

### Added

- **Tags and Categories for Notes** (GitHub Issue #11)
  - Add support for tagging and categorizing notes with predefined and custom labels
  - Tag notes with predefined categories: TODO, FIXME, QUESTION, NOTE, BUG, IMPROVEMENT, REVIEW
  - Create custom tags to organize notes by topic or feature area
  - Tag input UI with autocomplete suggests previously used tags
  - Visual tag display in CodeLens indicators with color-coded badges
  - Filter notes by tags in the sidebar view with AND/OR logic
  - Search notes by tags with flexible filtering options
  - Tags are persisted in markdown files and indexed for fast searching

### Changed

- **Enhanced CodeLens Display**
  - CodeLens now shows tags alongside note previews
  - Tags appear as colored badges (e.g., `[TODO] [authentication]`)
  - Multiple notes show combined tags with overflow indicator

- **Improved Note Creation Workflow**
  - Tag selection dialog appears after entering note content
  - QuickPick UI offers predefined categories and custom tag input
  - Autocomplete suggests frequently used tags from existing notes

- **Search Functionality Enhancement**
  - Search index now includes tags for faster tag-based queries
  - Support for filtering by multiple tags with AND/OR logic
  - Tag statistics available for trending tag analysis

### Technical

- Add `tags` field to `Note` and `NoteMetadata` interfaces
- Add `CreateNoteParams` and `UpdateNoteParams` to include optional tags
- Implement `TagManager` class for tag validation, normalization, and operations
- Add `tagTypes.ts` with `NoteCategory` enum and tag-related types
- Implement `TagInputUI` class for tag selection and filtering dialogs
- Add tag indexing to `SearchManager` for efficient tag-based queries
- Update `StorageManager` to parse and persist tags in markdown format
- Add sidebar tag filtering with `setTagFilters()` and `clearTagFilters()` methods
- Implement tag color schemes for predefined categories
- Add commands: `filterByTags`, `clearTagFilters`

### Performance

- Tag indexing is performed during initial search index build
- Incremental tag index updates when notes are created or modified
- Tag filtering uses efficient set intersection for fast results

---

## Implementation Details

### Tag Format

Tags are stored in markdown files as a simple comma-separated list:

```markdown
**Tags:** TODO, authentication, api
```

### Predefined Categories

- **TODO**: Tasks that need to be completed (Blue)
- **FIXME**: Code that needs fixing (Red)
- **QUESTION**: Questions that need answers (Yellow)
- **NOTE**: General notes and observations (Gray)
- **BUG**: Known bugs to track (Orange)
- **IMPROVEMENT**: Enhancement ideas (Green)
- **REVIEW**: Code that needs review (Purple)

### Tag Validation Rules

- Tags cannot be empty or contain commas
- Tags are trimmed of whitespace
- Predefined categories are normalized to uppercase
- Custom tags preserve original casing
- Maximum tag length: 50 characters

### Usage Examples

**Creating a Note with Tags:**

1. Add a note using command palette or CodeLens
2. Enter note content
3. Select tags from QuickPick (predefined or custom)
4. Note is created with tags visible in CodeLens

**Filtering by Tags:**

1. Open Command Palette: `Filter Notes by Tags`
2. Select one or more tags
3. Sidebar updates to show only matching notes

**Searching with Tags:**

- Search by tag using the search UI
- Combine tag filters with text search
- Use AND logic for precise filtering or OR logic for broader results

---

## User Stories Addressed

### Epic 3: Organization & Categorization

#### User Story 3.1: Tags and Categories for Notes

**As a** developer using Code Notes
**I want to** tag and categorize my notes with predefined and custom labels
**So that** I can organize related notes across different files and quickly filter notes by type or topic

**Acceptance Criteria:**

- ✅ Notes can have multiple tags assigned (both predefined and custom)
- ✅ Tags are stored in markdown and persisted correctly
- ✅ Predefined categories (TODO, FIXME, QUESTION, NOTE, etc.) are available
- ✅ Comment editor includes tag input with autocomplete for existing tags
- ✅ CodeLens displays tags visually alongside note content
- ✅ Sidebar view can be filtered to show only notes with specific tags
- ✅ Search functionality supports filtering by tags
- ✅ Tag autocomplete suggests previously used tags
- ✅ Tags have visual distinction through colors

---

[0.4.0]: https://github.com/jnahian/code-context-notes/releases/tag/v0.4.0
