# Changelog - Version 0.2.0

## [0.2.0] - TBD

### Added
- **Sidebar View for Browsing All Notes** (GitHub Issue #9)
  - Dedicated Activity Bar icon for Code Notes (standalone sidebar, not in Explorer)
  - Tree view showing all notes across workspace
  - Notes organized by file with collapsible file nodes
  - File nodes display relative path and note count (e.g., "src/extension.ts (3)")
  - Note nodes show line number, preview text (50 chars), and author name
  - Click on note to navigate directly to location in editor
  - Real-time updates when notes are created, edited, or deleted
  - **"+" button in sidebar toolbar** for quick note creation without text selection
  - **Collapse All button** in sidebar toolbar to reset tree to default collapsed state
  - Refresh button in sidebar title bar
  - **Context menu for Note items**: Go to Note, Edit Note, Delete Note, View History
  - **Context menu for File items**: Open File
  - Empty state with "Add Your First Note" action for new users
  - Total note count displayed in sidebar title
  - Lazy loading for optimal performance with many notes
  - **Configurable sorting**: Sort by file path (default), date (most recent first), or author name
  - Configurable preview length (20-200 chars, default 50)
  - Configurable auto-expand behavior (default collapsed)
  - Works seamlessly with multi-note feature (multiple notes per line)

### Changed
- **Add Note command now works without text selection**
  - If text is selected: creates note for selected lines (original behavior)
  - If no selection: creates note for current cursor line (new behavior)
  - Keyboard shortcut (`Ctrl+Alt+N` / `Cmd+Alt+N`) no longer requires selection
  - More convenient for quick note-taking
- NoteManager now provides workspace-wide query methods
  - `getAllNotes()` - Get all notes across workspace
  - `getNotesByFile()` - Get notes grouped by file
  - `getNoteCount()` - Get total note count
  - `getFileCount()` - Get count of files with notes
- Event emitter added to NoteManager for real-time sidebar updates
- File watcher monitors `.code-notes/` directory for changes

### Technical
- Created `NotesSidebarProvider` implementing VSCode TreeDataProvider
- Created `NoteTreeItem` classes for tree structure (RootNode, FileNode, NoteNode)
- Added sidebar view contribution to package.json (`codeContextNotes.sidebarView`)
- Added `viewsContainers` contribution for dedicated Activity Bar icon
- Implemented lazy loading and caching for performance with large note collections
- Added debouncing (300ms) for sidebar refresh operations
- **New commands**:
  - `openNoteFromSidebar` - Navigate to note and focus thread
  - `refreshSidebar` - Manual refresh trigger
  - `collapseAll` - Collapse all tree nodes
  - `editNoteFromSidebar` - Edit note from context menu
  - `deleteNoteFromSidebar` - Delete note from context menu
  - `viewNoteHistoryFromSidebar` - View note history from context menu
  - `openFileFromSidebar` - Open file from context menu
- Added `view/title` menu contributions for "+", collapse all, and refresh buttons
- Added `view/item/context` menu contributions for note and file items
- Updated `addNote` command logic to handle both selection and cursor-only scenarios
- **Implemented sorting logic** with switch between file/date/author modes
- Markdown stripping from note previews for cleaner display
- Configuration options: `sidebar.sortBy`, `sidebar.previewLength`, `sidebar.autoExpand`

---

## Benefits

**For Users:**
- Quick overview of all notes in the project at a glance
- Fast navigation to any note without opening files
- Visual understanding of note distribution across codebase
- Better project-wide note management
- Helpful for onboarding (see all documented areas)
- Useful for code reviews (identify documented decisions)

**For Teams:**
- Shared understanding of documented code areas
- Easy discovery of team members' annotations
- Better collaboration through visible note organization
- Quick access to implementation decisions and technical debt notes

---

## Migration Notes

- No breaking changes - purely additive feature
- No data migration required
- Works with existing note storage format
- Backward compatible with all existing notes
- Sidebar can be hidden/shown via VSCode view controls if not needed

---

## Known Limitations

- Sidebar shows flat file list (no folder grouping) - may add in future
- Sort options limited to file path (date/author sorting planned for future)
- Search/filter not available in initial release - planned for v0.3.0

---

## Links

[0.2.0]: https://github.com/jnahian/code-context-notes/releases/tag/v0.2.0
